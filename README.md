# README

## Описание проекта

Данный проект представляет собой программу на C++, предназначенную для прослушивания и анализа UDP-пакетов, передаваемых через сокеты в системе faketrx. Программа захватывает CLOCK-сигналы и выводит полезную нагрузку пакетов в шестнадцатеричном и текстовом формате. 

### Основные библиотеки
- **ZeroMQ (zmq)**: Используется для организации надежного обмена сообщениями между компонентами системы.
- **libpcap**: Библиотека для захвата и анализа сетевых пакетов, позволяющая перехватывать данные, проходящие через сетевой интерфейс.

## Установка и запуск стека сети GSM

### Установка посредством Ansible
Клонируем проект:
```sh
git clone -b main https://github.com/sibsutisTelecomDep/2G_osmocom.git
```
Переходим в папку 2g:

```sh
cd 2G_osmocom/2g/
```

Устанавливаем и запускаем <b>Ansible</b> (запускаем скрипт <b>БЕЗ</b> sudo): 
```sh
./install
```
Должно получиться нечто подобное:
```sh
PLAY RECAP **************************************************************************
localhost                  : ok=23   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Скрипт завершен!
```
Если возникли ошибки, попробуйте запустить скрипт установки заново (очередность установки библиотек может не совпадать).

### Запуск

Запускаем скриптом:
```sh
./launch.sh
```

Получаем:


## Установка и запуск прокси-сервера для перехвата GSM bursts

### Предварительные требования
Перед запуском программы убедитесь, что у вас установлены следующие библиотеки:
- `libzmq`
- `libpcap`

Для установки библиотек на Ubuntu можно использовать следующие команды:

```bash
sudo apt-get update
sudo apt-get install libzmq3-dev libpcap-dev
```

### Клонирование репозитория
Сначала клонируйте репозиторий с проектом:

```bash
git clone https://github.com/kasperekd/fake_trx_sim.git
cd fake_trx_sim
cd src
```

### Компиляция
Для компиляции проекта выполните команду:

```bash
make
```

Это создаст исполняемый файл в директории `./build`.

## Запуск

Для запуска программы используйте следующую команду, указав интерфейс и адрес ZeroMQ:

```bash
./build/main <interface> tcp://*:5555
```

Где `<interface>` — это имя сетевого интерфейса, который вы хотите прослушивать (например, `eth0`).

## Запуск сети
Перед запуском программы необходимо инициализировать сеть с помощью скрипта `launch.sh`, который запускает все необходимые компоненты системы Osmocom. Убедитесь, что все конфигурационные файлы корректны и соответствуют вашему оборудованию.

Для запуска сети выполните:

```bash
bash launch.sh
```

## Пример использования
Если вы хотите прослушивать интерфейс `eth0`, выполните:

```bash
./build/main eth0 tcp://*:5555
```

## Очистка
Чтобы удалить скомпилированные файлы и директорию `build`, выполните:

```bash
make clean
```
